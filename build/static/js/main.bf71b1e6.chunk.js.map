{"version":3,"sources":["hooks/useForm.js","components/Filter.jsx","components/PersonForm.jsx","services/persons.js","components/Contacts.jsx","components/Notification.jsx","App.js","index.js"],"names":["useForm","initialState","useState","values","setValues","e","target","type","v","name","value","Filter","show","handleChange","filteredValues","style","textDecoration","onChange","disabled","PersonForm","handleSubmit","onSubmit","number","baseUrl","getAll","a","axios","get","res","data","createOne","newPerson","post","updateOne","id","updatedPerson","put","deleteOne","delete","Person","personInfo","setPersons","onClick","window","confirm","then","ps","filter","p","Contacts","persons","toggle","toLowerCase","includes","filtered","map","Notification","msg","className","App","successMsg","setSuccessMsg","errorMsg","setErrorMsg","useEffect","initialData","setShow","preventDefault","find","updatePerson","setTimeout","catch","concat","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.bf71b1e6.chunk.js","sourcesContent":["import { useState } from 'react';\n\nconst useForm = (initialState) => {\n  const [values, setValues] = useState(initialState);\n\n  const handleChange = (e) => {\n    e.target.type === 'checkbox'\n      ? setValues((v) => ({ ...v, [e.target.name]: !v[e.target.name] }))\n      : setValues((v) => ({ ...v, [e.target.name]: e.target.value }));\n  };\n\n  return [values, handleChange, setValues];\n};\n\nexport default useForm;\n","const Filter = ({ show, handleChange, filteredValues }) => {\n  return (\n    <>\n      <span style={{ textDecoration: show ? 'none' : 'line-through' }}>\n        filter shown with\n      </span>{' '}\n      <input\n        name=\"filtered\"\n        onChange={handleChange}\n        value={filteredValues}\n        disabled={!show}\n      />\n    </>\n  );\n};\n\nexport default Filter;\n","const PersonForm = ({ handleSubmit, handleChange, values }) => {\n  return (\n    <form onSubmit={handleSubmit}>\n      <div>\n        name: <input name=\"name\" value={values.name} onChange={handleChange} />\n        number:{' '}\n        <input\n          name=\"number\"\n          type=\"tel\"\n          value={values.number}\n          onChange={handleChange}\n        />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  );\n};\n\nexport default PersonForm;\n","import axios from 'axios';\nconst baseUrl = '/api/persons';\n\nconst getAll = async () => {\n  const res = await axios.get(baseUrl);\n  return res.data;\n};\n\nconst createOne = async (newPerson) => {\n  const res = await axios.post(baseUrl, newPerson);\n  return res.data;\n};\n\nconst updateOne = async (id, updatedPerson) => {\n  const res = await axios.put(`${baseUrl}/${id}`, updatedPerson);\n  return res.data;\n};\n\nconst deleteOne = async (id) => {\n  const res = await axios.delete(`${baseUrl}/${id}`);\n  return res.data;\n};\n\nexport { getAll, createOne, updateOne, deleteOne };\n","import { deleteOne } from '../services/persons';\n\nconst Person = ({ personInfo, setPersons }) => {\n  const handleDelete = () => {\n    const willDelete = window.confirm(`Delete ${personInfo.name} ?`);\n\n    willDelete &&\n      deleteOne(personInfo.id).then(() =>\n        setPersons((ps) => ps.filter((p) => p.id !== personInfo.id))\n      );\n  };\n\n  return (\n    <>\n      <p>\n        {personInfo.name} {personInfo.number}\n      </p>\n      <button onClick={handleDelete}>delete</button>\n    </>\n  );\n};\n\nconst Contacts = ({ setPersons, persons, show, values, toggle }) => {\n  return (\n    <div>\n      <button onClick={toggle}>{show ? 'Hide' : 'Show'} contacts </button>\n      {show &&\n        persons &&\n        persons\n          .filter((p) =>\n            p.name.toLowerCase().includes(values.filtered.toLowerCase())\n          )\n          .map((p) => (\n            <Person key={p.name} personInfo={p} setPersons={setPersons} />\n          ))}\n    </div>\n  );\n};\n\nexport default Contacts;\n","const Notification = ({ msg, name }) =>\n  msg === null ? null : <div className={name}>{msg}</div>;\n\nexport default Notification;\n","import React, { useEffect, useState } from 'react';\nimport useForm from './hooks/useForm';\nimport Filter from './components/Filter';\nimport PersonForm from './components/PersonForm';\nimport Contacts from './components/Contacts';\nimport { createOne, getAll, updateOne } from './services/persons';\nimport Notification from './components/Notification';\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [successMsg, setSuccessMsg] = useState(null);\n  const [errorMsg, setErrorMsg] = useState(null);\n\n  useEffect(() => {\n    getAll().then((initialData) => setPersons(initialData));\n  }, []);\n\n  const [show, setShow] = useState(true);\n\n  const [values, handleChange, setValues] = useForm({\n    name: '',\n    number: '',\n    filtered: '',\n  });\n\n  const toggleList = () => setShow(!show);\n\n  const handleAddPerson = (e) => {\n    e.preventDefault();\n\n    const newPerson = {\n      name: values.name,\n      number: values.number,\n    };\n\n    if (!persons.find((p) => p.name === values.name)) {\n      createOne(newPerson).then((res) => {\n        setPersons(persons.concat(res));\n        setSuccessMsg(`Added ${res.name}`);\n        setTimeout(() => setSuccessMsg(null), 4000);\n      });\n    } else {\n      const willUpdate = window.confirm(\n        `${values.name} is already added to phonebook, replace the old number with a new one?`\n      );\n\n      if (willUpdate) {\n        const updatePerson = persons.find((p) => p.name === values.name);\n        updateOne(updatePerson.id, {\n          ...updatePerson,\n          number: values.number,\n        })\n          .then((res) => {\n            setPersons(\n              persons.map((p) => (p.name === updatePerson.name ? res : p))\n            );\n            setSuccessMsg(`Updated ${res.name}`);\n            setTimeout(() => setSuccessMsg(null), 4000);\n          })\n          .catch(() => {\n            setErrorMsg(\n              `Information of ${updatePerson.name} has already been removed from server`\n            );\n            setTimeout(() => setErrorMsg(null), 4000);\n          });\n      }\n    }\n    setValues({ name: '', number: '', filtered: '' });\n  };\n\n  return (\n    <div>\n      <h2>PhoneBook</h2>\n      <Notification name=\"success\" msg={successMsg} />\n      <Notification name=\"error\" msg={errorMsg} />\n      <Filter\n        filteredValues={values.filtered}\n        handleChange={handleChange}\n        show={show}\n      />\n      <h2>add a new</h2>\n      <PersonForm\n        handleChange={handleChange}\n        handleSubmit={handleAddPerson}\n        values={values}\n      />\n      <h2>Numbers</h2>\n      <Contacts\n        persons={persons}\n        show={show}\n        toggle={toggleList}\n        values={values}\n        setPersons={setPersons}\n      />\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}